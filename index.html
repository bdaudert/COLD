<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--css-->
    <link rel="stylesheet" href="media/css/my_style.css">
    <!--Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--jQuery-->
    <script src="//code.jquery.com/jquery-3.1.0.min.js"></script>
    <!--Highcharts-->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/histogram-bellcurve.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <!--My Highcharts-->
    <script src="media/myjs/cold-utils.js"></script>
    <script src="media/myjs/cold-highcharts-functions.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
        //var livneh_data_dir = 'media/json/TEST/';
        var livneh_data_dir = 'media/json/LIVNEH/';
        var loca_data_dir = 'media/json/LOCA/';
        //SUMS
        var data_file = livneh_data_dir + 'ind_sums_years.json';
        index_sums_years(data_file, 'container-1');
        /*
        data_file = livneh_data_dir + 'ind_sums_years_non_zero.json';
        index_sums_years(data_file, 'container-2');
        */
        //Histograms
        /*
        data_file = livneh_data_dir + 'hist_sum_all_years_and_locs.json';
        hist_sums(data_file, 'container-3');
        */
        data_file = livneh_data_dir + 'hist_sum_all_years_and_locs_non_zero.json';
        hist_sums(data_file, 'container-4');
        */

        //AVES
        data_file = livneh_data_dir + 'ind_aves_doys.json';
        index_aves_doys(data_file, 'container-6');
        data_file = livneh_data_dir + 'ind_aves_doys_non_zero.json';
        index_aves_doys(data_file, 'container-7');
        /*
        data_file = livneh_data_dir + 'hist_aves_all_doys_all_locs.json';
        hist_aves(data_file, 'container-8');
        */
        data_file = livneh_data_dir + 'hist_aves_all_doys_all_locs_non_zero.json';
        hist_aves(data_file, 'container-9');
        

        //PCA analysis
        data_file = livneh_data_dir + 'PCA_COMPONENT_1_TS.json';
        pca_ts(data_file, 'container-12', '1')

        data_file = livneh_data_dir + 'PCA_COMPONENT_2_TS.json';
        pca_ts(data_file, 'container-13', '2')

        data_file = livneh_data_dir + 'PCA_COMPONENT_3_TS.json';
        pca_ts(data_file, 'container-14', '3')

        //OTHER
        data_file = livneh_data_dir + 'box_plots_num_days_all_years_and_locs.json';
        box_plot_num_days(data_file, 'container-11');
    });
    </script>
</head>

<body>

<!-- Content will go here -->
<h1 align="center">Cold Extremes in the Southwest</h1>
<div class="row main">
    <div class="col-md-10 col-md-offset-1">
        <h2>Intoduction</h2>
        <p style="max-width: 90%">
        We identified cold outbreaks from temperature data in the
        <a target="_blank" href="https://www.esrl.noaa.gov/psd/data/gridded/data.livneh.html">linveh dataset</a> 
        by computing a cold index each location (grid point). 
        The cold index at lon, lat coordinate on a day is defined as the number of degrees below the 5th percentile 
        observed at that location. The time period over which the percentiles were computed is 1951 - 2005. 
        This analysis is run on the livneh grid, BBOX: -125, 31, -102, 49.1 (103968 locations).
        </p>
    
        <!--Figures--> 
        <h2 align="center">Index sums</h2>
        <div class="row">
            <h3 align="center">Index sums</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-1"></div>
            </div>
        </div>
        <!--
        <div class="row">
            <h3 align="center">Non-zero index sums</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-2"></div>
            </div>
        </div>
        -->
        <!--
        <div class="row">
            <h3 align="center">Histogram of index sums (all years, all locations)</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-3"></div>
            </div>
        </div>
        -->
        <div class="row">
            <h3 align="center">Histogram of non-zero index sums (all years, all locations)</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-4"></div>
            </div>
        </div> 
        <h2 align="center">Index averages</h2>
        <div class="row">
            <h3 align="center">Index averages for each day of season (DJF)</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-6"></div>
            </div>
        </div>
        <!--
        <div class="row">
            <h3 align="center">Non-zero index averages for each day of season (DJF)</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-7"></div>
            </div>
        </div>
        -->
        <!--
        <div class="row">
            <h3 align="center">Histogram of index averages (all doys, all locations)</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-8"></div>
            </div>
        </div>
        -->
        <div class="row">
            <h3 align="center">Histogram of non-zero index averages (all doys, all locations)</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-9"></div>
            </div>
        </div>
        <h2 align="center">PCA Analysis</h2>
        <div class="row">
            <h3 align="center">Component 1</h3>
            <div class="col-md-5 col2-md-offset-1">
                <h4>Temporal Patterns</h4>
                <div id="container-12" style="width:750px; height:650px;"></div>
            </div>
            <div class="col-md-5 col2-md-offset-1">
                <h4>Spatial patterns</h4>
                <div id="container-15">
                    <div class="col-md-10 col2-md-offset-1">
                        <img src="media/img/LIVNEH/PC_1.png">
                    </div>
                    <div class="col-md-1 col2-md-offset-1">
                        <img src="media/img/LIVNEH/PC_1_legend.png">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <h3 align="center">Component 2</h3>
            <div class="col-md-5 col2-md-offset-1">
                <h4>Temporal Patterns</h4>
                <div id="container-13" style="width:750px; height:650px;"></div>
            </div>
            <div class="col-md-5 col2-md-offset-1">
                <h4>Spatial patterns</h4>
                <div id="container-16">
                    <div class="col-md-10 col2-md-offset-1">
                        <img src="media/img/LIVNEH/PC_2.png">
                    </div>
                    <div class="col-md-1 col2-md-offset-1">
                        <img src="media/img/LIVNEH/PC_2_legend.png">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <h3 align="center">Component 3</h3>
            <div class="col-md-5 col2-md-offset-1">
                <h4>Temporal Patterns</h4>
                <div id="container-14" style="width:750px; height:650px;"></div>
            </div>
            <div class="col-md-5 col2-md-offset-1">
                <h4>Spatial patterns</h4>
                <div id="container-17">
                    <div class="col-md-10 col2-md-offset-1">
                        <img src="media/img/LIVNEH/PC_3.png">
                    </div>
                    <div class="col-md-1 col2-md-offset-1">
                        <img src="media/img/LIVNEH/PC_3_legend.png">
                    </div>
                </div>
            </div>
        </div>

        <h2 align="center">Other plots</h2>
        <div class="row">
            <h3 align="center">Number of winter days below 5th percentile by year</h3>
            <div class="col-md-8 col-md-offset-1">
                <div id="container-11"></div>
            </div>
        </div> 
   </div><!--col-md-10-->
</div><!--End row main-->

</body>

</html>
